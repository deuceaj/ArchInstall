#!/bin/sh

## General ---------------------------------------------------#
# set root pointer
xsetroot -cursor_name left_ptr

# key bindings
sxhkd -c "$HOME/.config/bspwm/sxhkdrc" &
# $HOME/.config/bspwm/autostart.sh &
# sleep 2 &
# corectrl &
# obsidian &


## Run java applications without issues
export _JAVA_AWT_WM_NONREPARENTING=1
#wmname LG3D

## Current theme ---------------------------------------------#
MONITOR_LEFT="HDMI-A-0"
MONITOR_RIGHT="DVI-D-0"
# on first load setup default workspaces
if [[ "$1" = 0 ]]; then
  if [[ $(xrandr -q | grep "${MONITOR_RIGHT} connected") ]]; then
    bspc monitor "$MONITOR_LEFT" -d 1 2 3 4 5
    bspc monitor "$MONITOR_RIGHT" -d 6 7 8 9 10
    bspc wm -O "$MONITOR_LEFT" "$MONITOR_RIGHT"
  else
    bspc monitor "$MONITOR_LEFT" -d 1 2 3 4 5 6 7 8 9 10
  fi
fi


bspc config border_width 2
bspc config window_gap 10
bspc config split_ratio 0.6

bspc config normal_border_color     "#262335"
bspc config active_border_color  "#0072c6"
bspc config focused_border_color    "#ff7edb"
bspc config presel_feedback_color   "#fede5d"

bspc config borderless_monocle true
bspc config gapless_monocle true
bspc config paddingless_monocle true
bspc config single_monocle false
bspc config focus_follows_pointer true


########### APPLICATION RULES #########
## Manage all the unmanaged windows remaining from a previous session.
bspc wm --adopt-orphans

## Window rules ----------------------------------------------#

# remove all rules first
bspc rule -r *:*





########################################################################################################################################################
#Application Rules
# Use command "xprop | grep WM_CLASS" to find the name of the application to be entered below
# After the command click on the application window and the name will be generated after the command and use the name generated by this command.
# Search "Bare-bones window manger by Angad Sharma" on dev.to for more
########################################################################################################################################################

#Fullscreen applications
bspc rule -a steam state=fullscreen desktop='^5' 
bspc rule -a Spotify state=fullscreen
bspc rule -a Vlc state=fullscreen

#Floating applications
bspc rule -a Archlinux-tweak-tool.py state=floating
bspc rule -a mpv state=floating sticky=on
bspc rule -a Gpick state=floating sticky=on
bspc rule -a Nitrogen state=floating 
bspc rule -a Pavucontrol state=floating sticky=on
bspc rule -a rofi state=floating sticky=on
bspc rule -a Xfce4-appfinder state=floating sticky=on
bspc rule -a Xfce4-terminal state=floating 
bspc rule -a  obsidian state=floating desktop='^6' follow=on     rectangle=450x1030+1460+40 layer=below 
bspc rule -a  "eww-dashboard" state=floating desktop='^6' follow=on     rectangle=450x1030+0+40 layer=below i


#Tiled applications
bspc rule -a xfce4-terminal state=fullscreen follow=on focus=on
bspc rule -a Xfce4-settings-manager state=tiled
bspc rule -a corectrl state=tiled desktop='^10' follow=on
bspc rule -a discord state=tiled desktop='^10' follow=on
bspc rule -a input-remapper-gtk state=tiled desktop='^10' follow=on
bspc rule -a "gw2-64.exe" state=tiled desktop='^5'  #GW2- Lutris
bspc rule -a "steam_app_1284210" state=tiled desktop='^5' #GW2- Steam


 ## Micing Biding rules ----------------------------------------------#

#   Set mouse 1 to move floating windows
bspc config pointer_action1 move

#   Mouse 2 button resizes the window by side
bspc config pointer_action2 resize_side

#   Mouse 3 button (right mouse) resize by corner
bspc config pointer_action2 resize_corner




## Window Layout rules ----------------------------------------------#

bsp-layout set tall 1
bsp-layout set tall 2
bsp-layout set tall 3
bsp-layout set tall 4
bsp-layout set tall 5
bsp-layout set tall 6
bsp-layout set tall 7
bsp-layout set tall 8
bsp-layout set tall 9
bsp-layout set tall 0

